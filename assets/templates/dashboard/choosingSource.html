<md-dialog aria-label="Choose a source"  ng-controller="ChoosingSrcCtrl" ng-cloak>

    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Choose a source</h2>
            <span flex></span>
        <!--
            <md-button class="md-icon-button" ng-click="cancel()">
                <md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
            </md-button>
        -->
        </div>
    </md-toolbar>

    <md-dialog-content>
        <div class="md-dialog-content" layout="row">

            <div id="categoriesList" flex="20">
                <md-list-item class="md-2-line" ng-click="refreshSources(0)">
                    <span>All categories</span>
                </md-list-item>
                <md-list-item class="md-2-line" ng-repeat="category in allCategories" ng-click="refreshSources(category.id)">
                    {{category.name}}
                </md-list-item>
            </div>

            <div ng-show="!sourceChoose" id="sourcesList" flex="80">
                <md-list-item class="md-2-line" ng-repeat="source in sourcesByCategories" ng-click="refreshFunctions(source.id)">
                    <span>{{source.name}}</span>
                </md-list-item>
            </div>
            <div ng-show="sourceChoose" id="functionsList" flex="80">
                <md-toolbar md-scroll-shrink>
                    <div class="md-toolbar-tools">{{sourceName}}</div>
                </md-toolbar>
                <md-list-item class="md-2-line" ng-repeat="function in functionsList" ng-click="openFunction(function.id)">
                    <img src="/images/functions/{{function.id}}.jpg" width="100%" height="100%">
                </md-list-item>

                <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right"  md-is-open="isSidenavOpen">
                    <md-content>
                        <h2>{{theFunction.name}}</h2>
                        <span>{{theFunction.description}}</span>
                        <div ng-if="theFunction.parameters!=={}">
                            <h5>Param√®tres</h5>
                            <div ng-repeat="data in theFunction.parameters.datas">
                                <md-input-container class="md-block">
                                    <label>{{data.label}}</label>
                                    <input type="{{data.type}}" ng-model="p.url">
                                </md-input-container>
                            </div>
                        </div>
                        <md-button>Add</md-button>
                    </md-content>
                </md-sidenav>

            </div>

        </div>
    </md-dialog-content>

</md-dialog>